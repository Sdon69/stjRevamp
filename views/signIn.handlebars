<!--
  Copyright 2016 Google, Inc.

  Licensed to the Apache Software Foundation (ASF) under one or more contributor
  license agreements. See the NOTICE file distributed with this work for
  additional information regarding copyright ownership. The ASF licenses this
  file to you under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->

<style>

* { box-sizing:border-box; }

/* basic stylings ------------------------------------------ */
body 				 { background:url(https://scotch.io/wp-content/uploads/2014/07/61.jpg); }

h2 		 {
  text-align:center;
  margin-bottom:50px;
}
h2 small {
  font-weight:normal;
  color:#888;
  display:block;
}
.footer 	{ text-align:center; }
.footer a  { color:#53B2C8; }

/* form starting stylings ------------------------------- */
.group 			  {
  position:relative;
  margin-bottom:45px;
}
input 				{
  font-size:18px;
  padding:10px 10px 10px 5px;
  width:100%;
  border:none;
  border-bottom:1px solid #757575;
}
input:focus 		{ outline:none; }

/* LABEL ======================================= */
label 				 {
  color:#999;
  font-size:18px;
  font-weight:normal;
  position:absolute;
  pointer-events:none;
  left:5px;
  top:10px;
  transition:0.2s ease all;
  -moz-transition:0.2s ease all;
  -webkit-transition:0.2s ease all;
}

/* active state */
input:focus ~ label, input:valid ~ label 		{
  top:-20px;
  font-size:14px;
  color:#3f8acd;
}

/* BOTTOM BARS ================================= */
.bar 	{ position:relative; display:block; width:100%; }
.bar:before, .bar:after 	{
  content:'';
  height:2px;
  width:0;
  bottom:1px;
  position:absolute;
  background:#3f8acd;
  transition:0.2s ease all;
  -moz-transition:0.2s ease all;
  -webkit-transition:0.2s ease all;
}
.bar:before {
  left:50%;
}
.bar:after {
  right:50%;
}

/* active state */
input:focus ~ .bar:before, input:focus ~ .bar:after {
  width:50%;
}

/* HIGHLIGHTER ================================== */
.highlight {
  position:absolute;
  height:60%;
  width:100px;
  top:25%;
  left:0;
  pointer-events:none;
  opacity:0.5;
}

/* active state */
input:focus ~ .highlight {
  -webkit-animation:inputHighlighter 0.3s ease;
  -moz-animation:inputHighlighter 0.3s ease;
  animation:inputHighlighter 0.3s ease;
}

/* ANIMATIONS ================ */
@-webkit-keyframes inputHighlighter {
	from { background:#3f8acd; }
  to 	{ width:0; background:transparent; }
}
@-moz-keyframes inputHighlighter {
	from { background:#3f8acd; }
  to 	{ width:0; background:transparent; }
}
@keyframes inputHighlighter {
	from { background:#3f8acd; }
  to 	{ width:0; background:transparent; }
}

</style>




  <!-- Show spreadsheets -->


        <form method="post" action="/signInWriteCheck" name='event'>
    <div class="form-style-2">

         <div class="group">
        <input type='text' placeholder="User Id"  name='userId'>
        <span class="highlight"></span>
        <span class="bar"></span>
    </div>  <div class="group">
<input type='password' placeholder="Password"  name='password'>
<span id="incorrectPassword" style="color:#b00;font-weight:450;"></span>
<span class="highlight"></span>
<span class="bar"></span>
</div>

<input type="button" value="Submit"  onclick="check()"  style="background: linear-gradient(0deg, #15446e, #408bce); color:#FFFFFF;"    >

            <input type="submit" value="Submit" id='hangoutButtonId'  style="visibility:collapse;"   >
          </div>
        </form>
        <br><br>
      <span class="mdl-list__item-secondary-action" style="position:relative; ">

        <button  class="mdl-button mdl-js-button mdl-button--raised
                       mdl-js-ripple-effect mdl-button--colored"
                rel="signinUserId" type="button" id='create'  style="position:relative;visibility:collapse;">Create</button>
                <button  class="mdl-button mdl-js-button mdl-button--raised
                               mdl-js-ripple-effect mdl-button--colored"
                        rel="getDataForUserId" type="button" id='getData'  style="position:relative;visibility:collapse;">Create</button>





<script>



  var delayInMilliseconds = 2000; //2 second

  setTimeout(function() {

    document.getElementById('getData').click();
  }, delayInMilliseconds);

</script>



<script>


var  passwordString =   localStorage.getItem("password");

if(passwordString == 'false')
{
    document.getElementById("incorrectPassword").innerHTML = 'Incorrect Password';
}




function check()
{









var userId = document.event.userId.value;

var password = document.event.password.value;




var userIdDataString = '{{userIdData}}';
userIdDataString = userIdDataString.replace(/&quot;/g, '"');
var userIdData = JSON.parse(userIdDataString);














 if (userId.length < 1) {
    alert('Enter User Id');
}else if (userId.length < 6) {
    alert('Minimum size of User Id is 6 characters');
}else if (password.length < 1) {
    alert('Enter Password');
}else if (password.length < 8 ) {
    alert('Minimum size of Password is 8 Characters');
}







else{
  var userId = document.event.userId.value;
  var idExists = false;
  for(i = 0;i<userIdData.length;i++)
  {

    if(userIdData[i].userId == userId)
    {
      idExists = true;

                var firstName = userIdData[i].firstName;
                var lastName =    userIdData[i].lastname;
                var className =   userIdData[i].className;
                var section =     userIdData[i].section;
                var emailId =     userIdData[i].emailId;
                var phoneNo =     userIdData[i].phoneNo;
                var semester =    userIdData[i].semester;

                localStorage.setItem("firstName", firstName);

                localStorage.setItem("lastname", lastName);

                localStorage.setItem("userId", userId);
                localStorage.setItem("semester", semester);
                localStorage.setItem("className", className);
                localStorage.setItem("section", section);
                localStorage.setItem("emailAddress", emailId);
                localStorage.setItem("phoneNo", phoneNo);

    }

  }

//Saving Data using Html Web Storage
if(idExists)
{
  if (typeof(Storage) !== "undefined") {
      // Code for localStorage/sessionStorage.





  } else {
      // Sorry! No Web Storage support..
        document.write('Your phone is not compatible with app');
  }
}

if(idExists)
{


  document.getElementById('hangoutButtonId').click();

  var delayInMilliseconds = 2000; //0.01 second



  setTimeout(function() {

    document.getElementById('create').click();

  }, delayInMilliseconds);

    setTimeout(function() {


           window.location.href = "/";
    }, 5000);










}else{
  alert('Id does not exist');
}




}







}




</script>
